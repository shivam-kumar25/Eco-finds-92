

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcoFinds | Listings</title>
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="/static/CSS/product_listing.css" />
</head>
<body>
  <!-- Animated Background Shapes -->
  <div class="bg-shape shape-circle circle-1"></div>
  <div class="bg-shape shape-circle circle-2"></div>
  <div class="bg-shape shape-blob blob-1"></div>
  <div class="bg-shape shape-blob blob-2"></div>

  <!-- Header / Navigation -->
  <header class="header animate-fade-down">
    <div class="container header-container">
      <div class="logo">
        <a href="#">EcoFinds</a>
      </div>
      <nav class="main-nav">
        <ul class="nav-list">
          <li><a href="{{ url_for('user.index') }}" class="active">Home</a></li>
          <li><a href="{{ url_for('product.product_listing') }}">My Listings</a></li>
          <li><a href="{{ url_for('product.product_search') }}">Search Items</a></li>
          <li><a href="{{ url_for('user.profile') }}">Profile</a></li>
          <li><a href="{{ url_for('auction.auction_page') }}">Auction</a></li>
        </ul>
      </nav>
      <div class="header-actions">
        {% if session.get('user_id') %}
          <span class="user-greeting animate-fade-in-up" style="animation-delay: 0.4s;">Hello, <strong>{{ session.get('username') }}</strong></span>
          <a href="{{ url_for('auth.logout') }}" class="btn logout-link animate-pop-in" style="animation-delay: 0.6s;">
            Log Out
          </a>
        {% else %}
          <a href="{{ url_for('auth.login') }}" class="btn login-btn animate-pop-in" style="animation-delay: 0.6s;">Login</a>
          <a href="{{ url_for('auth.register') }}" class="btn register-btn animate-pop-in" style="animation-delay: 0.6s;">Register</a>
        {% endif %}
      </div>
    </div>
  </header>
  <!-- Listing Page Main Content -->
  <main class="listing-main">
    <div class="container">
      <!-- Page Title & Search Bar -->
      <div class="listing-header">
        <h1>Product Listings</h1>
        
        <form action="{{ url_for('product.product_search') }}" method="GET" class="search-form">
          <input type="text" name="query" placeholder="Search products..." class="search-input">
          <button type="submit" class="search-button">Search</button>
        </form>
      </div>
      
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}
      
      <!-- Category Filters -->
      <div class="category-filters">
        <h2>Categories</h2>
        <div class="filter-buttons">
          <a href="{{ url_for('product.product_listing') }}" class="filter-btn {% if not selected_category_id %}active{% endif %}">All</a>
          {% for category in categories %}
            <a href="{{ url_for('product.product_listing', category_id=category.id) }}" 
               class="filter-btn {% if selected_category_id == category.id %}active{% endif %}">
              {{ category.name }}
            </a>
          {% endfor %}
        </div>
      </div>      <!-- Product Grid -->
      <section class="product-grid">
        {% if products %}
          {% for product in products %}
            <div class="product-card">
              {% if product.image_filename %}
                <img src="{{ url_for('static', filename='uploads/products/' + product.image_filename) }}" 
                     alt="{{ product.name }}" class="product-image">
              {% else %}
                <img src="https://via.placeholder.com/300x200?text=Product+Image" 
                     alt="{{ product.name }}" class="product-image">
              {% endif %}
              <div class="product-details">
                <h3>{{ product.name }}</h3>
                <p class="product-price">${{ "%.2f"|format(product.price) }}</p>
                <p class="product-condition">Condition: {{ product.condition }}</p>
                <div class="product-actions">
                  <a href="{{ url_for('product.product_details', product_id=product.id) }}" class="btn view-btn">View Details</a>
                  <form action="{{ url_for('payment.add_to_cart', product_id=product.id) }}" method="POST">
                    <input type="hidden" name="quantity" value="1">
                    <button type="submit" class="btn cart-btn">Add to Cart</button>
                  </form>
                </div>
              </div>
            </div>
          {% endfor %}
        {% else %}
          <div class="no-results">
            <p>No products found in this category.</p>
            <p>Try selecting a different category or check back later!</p>
            <a href="{{ url_for('product.add_product') }}" class="btn add-product-btn">Add a Product</a>
          </div>
        {% endif %}
      </section>

      <!-- Listings Grid -->
      <section class="listings-grid animate-fade-in-up" style="animation-delay: 1.4s;">
        <!-- Listing Card 1 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 1.6s;">
          <img src="https://via.placeholder.com/300x180?text=Vintage+Chair" alt="Vintage Chair" />
          <div class="card-content">
            <h3 class="card-title">Vintage Wooden Chair</h3>
            <p class="card-price">$75.00</p>
            <p class="card-location">Anytown, USA</p>
            <a href="/listing/1" class="btn view-btn">View Details</a>
          </div>
        </div>

        <!-- Listing Card 2 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 1.8s;">
          <img src="https://via.placeholder.com/300x180?text=Antique+Table" alt="Antique Table" />
          <div class="card-content">
            <h3 class="card-title">Antique Oak Table</h3>
            <p class="card-price">$120.00</p>
            <p class="card-location">Greenville, USA</p>
            <a href="/listing/2" class="btn view-btn">View Details</a>
          </div>
        </div>

        <!-- Listing Card 3 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 2s;">
          <img src="https://via.placeholder.com/300x180?text=Wooden+Stool" alt="Wooden Stool" />
          <div class="card-content">
            <h3 class="card-title">Handcrafted Wooden Stool</h3>
            <p class="card-price">$40.00</p>
            <p class="card-location">Lakeside, USA</p>
            <a href="/listing/3" class="btn view-btn">View Details</a>
          </div>
        </div>

        <!-- Listing Card 4 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 2.2s;">
          <img src="https://via.placeholder.com/300x180?text=Vintage+Cabinet" alt="Vintage Cabinet" />
          <div class="card-content">
            <h3 class="card-title">Vintage Cabinet</h3>
            <p class="card-price">$200.00</p>
            <p class="card-location">Riverside, USA</p>
            <a href="/listing/4" class="btn view-btn">View Details</a>
          </div>
        </div>

        <!-- Listing Card 5 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 2.4s;">
          <img src="https://via.placeholder.com/300x180?text=Retro+Lamp" alt="Retro Lamp" />
          <div class="card-content">
            <h3 class="card-title">Retro Desk Lamp</h3>
            <p class="card-price">$30.00</p>
            <p class="card-location">Springfield, USA</p>
            <a href="/listing/5" class="btn view-btn">View Details</a>
          </div>
        </div>

        <!-- Listing Card 6 -->
        <div class="listing-card animate-pop-in" style="animation-delay: 2.6s;">
          <img src="https://via.placeholder.com/300x180?text=Vintage+Records" alt="Vintage Records" />
          <div class="card-content">
            <h3 class="card-title">Vintage Vinyl Records</h3>
            <p class="card-price">$15.00</p>
            <p class="card-location">Oakwood, USA</p>
            <a href="/listing/6" class="btn view-btn">View Details</a>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Footer -->
  <footer class="footer animate-fade-up" style="animation-delay: 3s;">
    <div class="container footer-container">
      <ul class="footer-links">
        <li><a href="/help">Help Center</a></li>
        <li><a href="/privacy">Privacy Policy</a></li>
        <li><a href="/terms">Terms of Service</a></li>
        <li><a href="/contact">Contact Us</a></li>
      </ul>
      <div class="social-icons">
        <a href="#" aria-label="Twitter">üê¶</a>
        <a href="#" aria-label="Facebook">üìò</a>
        <a href="#" aria-label="Instagram">üì∑</a>
      </div>
      <p class="footer-copy">¬© 2023 EcoFinds. All rights reserved.</p>
      <p class="footer-contact">support@ecofinds.com | +1 (800) 123-4567</p>
    </div>
  </footer>
</body>
</html>


